<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/png" id=favIcon href="favicon.jpg" />
    
    <link rel="stylesheet" href="bootstrap-4.2.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">

    <script src="jquery-3.3.1.js"></script>
    <script src="popper-1.14.6.js"></script>
    <script src="bootstrap-4.2.1-dist/js/bootstrap.js"></script>
    <script src="bahn.js"></script>
    <script src="script.js"></script>

    <title>SWTbahn Stellwerk Client</title>
    <meta charset="utf-8" />
</head>

<body>
    <div id="swtLogo">Stellwerk</div>
    <div id="user-info" class="header-info">Logged in as <b id="header-username">admin</b>. <button id="btn-logout" class="btn-outline-primary btn-sm">Logout</button></div>
    <div id="guest-info" class="header-info">You are currently using Guest Access. <button id="btb-open-login" class="btn-outline-primary btn-sm">Login</button></div>
    <hr />

    <div class="card-deck">

        <div class="card" style="width: 18rem;">
            <div class="card-body">
                <h3 class="card-title"> System</h3>

                <div class="form-group">
                    <button id=pingButton type="button" class="btn btn-outline-primary btn-block">Ping SWTbahn Server</button>
                    <br />
                    <div class="alert alert-info" role="alert">
                        <span id=pingResponse></span>
                    </div>
                </div>

                <br />

                <div class="form-group">
                    <div class="input-group mb-2 mr-sm-2">
                        <div class="input-group-prepend">
                            <label class="input-group-text" for="select-platform">Platform</label>
                        </div>
                        <select class="custom-select" id="select-platform">
                        </select>
                    </div>

                    <div style="display: flex; justify-content: space-between;">
                        <button id=startupButton type="button" class="btn btn-outline-primary" style="width: 49%;">Startup</button>
                        <button id=shutdownButton type="button" class="btn btn-outline-primary" style="width: 49%;">Shutdown</button>
                    </div>
                    <br />
                    <div class="alert alert-info" role="alert">
                        <span id=startupShutdownResponse></span>
                    </div>
                </div>

            </div>
        </div>


        <div class="card" style="width: 18rem;">
            <div class="card-body">
                <h3 class="card-title">Point Controller</h3>

                <div class="form-group">

                    <div style="display: flex; justify-content: space-between;">
                        <button id=pointMinus type="button" class="btn btn-outline-primary">–</button>
                        <input id=pointId readonly value="point1">
                        <button id=pointPlus type="button" class="btn btn-outline-primary">+</button>
                    </div>

                    </br>

                    <div style="display: flex; justify-content: space-between;">
                        <button id=setPointButtonNormal type="button" class=" pointBtn btn btn-outline-primary" style="width: 49%;">normal</button>
                        <button id=setPointButtonReverse type="button" class=" pointBtn btn btn-outline-primary" style="width: 49%;">reverse</button>
                    </div>
                    </br>
                    <div class="alert alert-info" role="alert">
                        <span id=setPointResponse></span>
                    </div>
                </div>

                </br>

            </div>
        </div>

        </br>

        <div class="card" style="width: 18rem;">
            <div class="card-body">
                <h3 class="card-title">Signal Controller</h3>

                <div class="form-group">

                    <div style="display: flex; justify-content: space-between;">
                        <button id=signalMinus type="button" class="btn btn-outline-primary">–</button>
                        <input id=signalId readonly value="signal1">
                        <button id=signalPlus type="button" class="btn btn-outline-primary">+</button>
                    </div>

                    </br>

                    <div style="display: flex; justify-content: space-between;">
                        <button id=setSignalButtonRed type="button" class=" signalBtn btn btn-outline-danger" style="width: 32%;">red</button>
                        <button id=setSignalButtonYellow type="button" class=" signalBtn btn btn-outline-warning" style="width: 32%;">yellow</button>
                        <button id=setSignalButtonGreen type="button" class=" signalBtn btn btn-outline-success" style="width: 32%; ">green</button>
                    </div>

                    </br>

                    <div class="alert alert-info" role="alert">
                        <span id=setSignalResponse></span>
                    </div>

                </div>

            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalTitle">Login</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-primary" role="alert">
                        Please log in to use SWTBahn. You can also use Guest Access, but not all functions will be available in that case.
                    </div>
                    <div class="alert alert-danger" role="alert" style="display: none;" id="loginError">
                        Invalid credentials.
                    </div>

                    <form id="loginForm">
                        <div class="form-group">
                            <label for="loginUsername">Username</label>
                            <input type="text" class="form-control" id="loginUsername" placeholder="Username">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" class="form-control" id="loginPassword" placeholder="Password">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Guest Access</button>
                    <button type="button" class="btn btn-primary" id="loginButton">Login</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Unauthorized Modal -->
    <div class="modal fade" id="unauthorizedModal" tabindex="-1" role="dialog" aria-labelledby="unauthorizedModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="unauthorizedModalTitle">Unauthorized</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    You are not authorized to perform this action.
                    If you are using guest access, please log in and try again.
                    If you are logged in, you do not have the role that may perform this action. Please contact your supervisor to resolve this issue.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
